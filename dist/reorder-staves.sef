{"N":"package","when":"2024-11-18T09:25:55.1288708+01:00","id":"0","version":"30","packageVersion":"1","saxonProduct":"SAXON-EE","saxonVersion":"12.3","buildDateTime":"2024-11-18T09:25:55.1288708+01:00","target":"JS","targetVersion":"2","relocatable":"true","implicit":"true","C":[{"N":"co","id":"0","binds":"1 2 3 0 0 4 0 5","C":[{"N":"mode","onNo":"TC","flags":"dW","patternSlots":"0","C":[{"N":"templateRule","prec":"1","prio":"0.5","seq":"2","rank":"2","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}scoreDef","flags":"s","line":"18","module":"reorder-staves.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}scoreDef"},{"N":"vc","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"18","op":"ne","onEmpty":"1","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}corresp"}]},{"N":"fn","name":"concat","C":[{"N":"str","val":"#"},{"N":"gVarRef","name":"Q{}source","bSlot":"0"}]}]}]},{"N":"copyOf","role":"action","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"19","flags":"c","C":[{"N":"slash","simple":"2","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"following-sibling","nodeTest":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}choice"},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}type"}]},{"N":"str","val":"scoring"}]}]},{"N":"axis","name":"child","nodeTest":"NE"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}corresp"}]},{"N":"gVarRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg128572068","bSlot":"1"}]}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}scoreDef"}]}]}]},{"N":"templateRule","prec":"1","prio":"0.5","seq":"3","rank":"2","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}choice","flags":"s","line":"25","module":"reorder-staves.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}choice"},{"N":"vc","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"25","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"cast","flags":"ae","as":"?AS","C":[{"N":"attVal","name":"Q{}type"}]},{"N":"str","val":"scoring"}]}]},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"1","prio":"0.0","seq":"4","rank":"1","minImp":"0","slots":"5","matches":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}measure","flags":"s","line":"96","module":"reorder-staves.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}measure"},{"N":"let","role":"action","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"105","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"1FM k[ADI] v[1ADI]","slot":"0","flags":"l","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"gVarRef","name":"Q{}map_staves_order","bSlot":"2"}]},{"N":"copy","line":"98","flags":"cin","sit":"1NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}measure","C":[{"N":"sequence","role":"content","C":[{"N":"applyT","bSlot":"3","C":[{"N":"axis","role":"select","name":"attribute","nodeTest":"NA"}]},{"N":"applyT","line":"99","bSlot":"4","C":[{"N":"slash","role":"select","C":[{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}staff"}]},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"NE"}]}]}]},{"N":"let","line":"101","var":"Q{}currentMeasure","as":"1NE","slot":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}measure","flags":"a"},{"N":"let","line":"105","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"*NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}staff","slot":"2","flags":"l","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}currentMeasure","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}staff"}]},{"N":"sequence","line":"103","C":[{"N":"forEach","C":[{"N":"to","C":[{"N":"int","val":"1"},{"N":"gVarRef","name":"Q{}count_staves","bSlot":"5"}]},{"N":"let","line":"104","var":"Q{}currentItem","as":"1","slot":"3","C":[{"N":"dot","type":"1ADI"},{"N":"let","line":"107","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v2","as":"1AS","slot":"4","flags":"l","C":[{"N":"convert","from":"ADI","to":"AS","C":[{"N":"varRef","name":"Q{}currentItem","slot":"3"}]},{"N":"forEach","line":"105","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"2"},{"N":"vc","op":"eq","onEmpty":"0","comp":"CAVC","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"0"},{"N":"check","card":"1","diag":"0|1||map:get","C":[{"N":"cast","flags":"ae","as":"?ADI","C":[{"N":"attVal","name":"Q{}n"}]}]}]},{"N":"varRef","name":"Q{}currentItem","slot":"3"}]}]},{"N":"copy","line":"107","flags":"cinl","sit":"1NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}staff","C":[{"N":"sequence","role":"content","C":[{"N":"att","name":"n","flags":"l","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v2","slot":"4"}]},{"N":"applyT","line":"108","bSlot":"6","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA d[NA,NA nQ{}n]"},{"N":"axis","name":"child","nodeTest":"N u[NE,NT,NP,NC]"}]}]}]}]}]}]}]}]},{"N":"callT","line":"113","name":"Q{}update_staff_controlEvents","bSlot":"7","C":[{"N":"withParam","name":"Q{}elements","flags":"c","as":"*NE","C":[{"N":"slash","line":"114","simple":"2","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}staff"},{"N":"fn","name":"empty","C":[{"N":"axis","name":"following-sibling","nodeTest":"NE nQ{http:\/\/www.music-encoding.org\/ns\/mei}staff"}]}]},{"N":"axis","name":"following-sibling","nodeTest":"NE"}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"1","prio":"-0.5","seq":"1","part":"1","rank":"0","minImp":"0","slots":"0","matches":"NA","flags":"s","line":"27","module":"basic.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA"},{"N":"copy","role":"action","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform dme=http:\/\/www.mozarteum.at\/ns\/dme mei=http:\/\/www.music-encoding.org\/ns\/mei saxon=~ xs=~ xsl=~ xml=~","line":"29","flags":"cin","sit":"1N","C":[{"N":"applyT","role":"content","flags":"c","bSlot":"-1","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NT,NP,NC]"}]}]}]}]},{"N":"templateRule","prec":"1","prio":"-0.5","seq":"1","rank":"0","minImp":"0","slots":"0","matches":"N","flags":"s","line":"27","module":"basic.xsl","C":[{"N":"p.nodeTest","role":"match","test":"N u[NE,NT,NP,NC]"},{"N":"copy","role":"action","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform dme=http:\/\/www.mozarteum.at\/ns\/dme mei=http:\/\/www.music-encoding.org\/ns\/mei saxon=~ xs=~ xsl=~ xml=~","line":"29","flags":"cin","sit":"1N","C":[{"N":"applyT","role":"content","flags":"c","bSlot":"-1","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NT,NP,NC]"}]}]}]}]}]}]},{"N":"co","id":"2","binds":"1","C":[{"N":"globalVariable","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg128572068","as":"1AS","line":"19","module":"reorder-staves.xsl","visibility":"PRIVATE","C":[{"N":"fn","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"19","name":"concat","C":[{"N":"str","val":"#"},{"N":"gVarRef","name":"Q{}source","bSlot":"0"}]}]}]},{"N":"co","id":"1","binds":"","C":[{"N":"globalParam","name":"Q{}source","as":"1AS","line":"10","module":"reorder-staves.xsl","visibility":"PUBLIC","C":[{"N":"str","val":"source_A"}]}]},{"N":"co","id":"4","binds":"3","C":[{"N":"globalVariable","name":"Q{}count_staves","as":"1ADI","line":"71","module":"reorder-staves.xsl","slots":"1","visibility":"PRIVATE","C":[{"N":"treat","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"71","as":"ADI","diag":"3|0|XTTE0570|count_staves","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|count_staves","C":[{"N":"cvUntyped","to":"ADI","diag":"3|0|XTTE0570|count_staves","C":[{"N":"fn","name":"max","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}keys","type":"*A","C":[{"N":"check","card":"1","diag":"0|0||map:keys","C":[{"N":"gVarRef","name":"Q{}map_staves_order","bSlot":"0"}]}]}]}]}]}]}]}]},{"N":"co","id":"6","binds":"","C":[{"N":"template","name":"Q{}copy.element","flags":"os","line":"33","module":"basic.xsl","slots":"0","C":[{"N":"copy","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform dme=http:\/\/www.mozarteum.at\/ns\/dme mei=http:\/\/www.music-encoding.org\/ns\/mei saxon=~ xs=~ xsl=~ xml=~","line":"35","flags":"cin","sit":"1","C":[{"N":"applyT","role":"content","flags":"c","bSlot":"-1","C":[{"N":"slash","role":"select","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot","flags":"a"}]},{"N":"sequence","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NT,NP,NC]"}]}]}]}]}]}]},{"N":"co","id":"7","binds":"","C":[{"N":"globalParam","name":"Q{}global-context-item","as":"*","line":"9","module":"reorder-staves.xsl","visibility":"PUBLIC","C":[{"N":"dot","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"9","flags":"a"}]}]},{"N":"co","id":"3","binds":"","C":[{"N":"globalVariable","name":"Q{}map_staves_order","as":"1FM k[ADI] v[1ADI]","line":"32","module":"reorder-staves.xsl","visibility":"PRIVATE","C":[{"N":"map","size":"7","C":[{"N":"int","val":"1"},{"N":"int","val":"4"},{"N":"int","val":"2"},{"N":"int","val":"5"},{"N":"int","val":"3"},{"N":"int","val":"1"},{"N":"int","val":"4"},{"N":"int","val":"2"},{"N":"int","val":"5"},{"N":"int","val":"3"},{"N":"int","val":"6"},{"N":"int","val":"6"},{"N":"int","val":"7"},{"N":"int","val":"7"}]}]}]},{"N":"co","id":"5","binds":"3 0 5 0 5","C":[{"N":"template","name":"Q{}update_staff_controlEvents","flags":"os","line":"129","module":"reorder-staves.xsl","slots":"1","C":[{"N":"sequence","role":"body","defaultElementNS":"http:\/\/www.music-encoding.org\/ns\/mei","ns":"=http:\/\/www.w3.org\/1999\/XSL\/Transform array=~ dita=http:\/\/dita-ot.sourceforge.net dme=http:\/\/www.mozarteum.at\/ns\/dme functx=http:\/\/www.functx.com ixsl=~ map=~ mei=http:\/\/www.music-encoding.org\/ns\/mei xd=http:\/\/www.oxygenxml.com\/ns\/doc\/xsl xi=http:\/\/www.w3.org\/2001\/XInclude xs=~ xsl=~ xml=~","line":"130","C":[{"N":"param","name":"Q{}elements","slot":"0","C":[{"N":"str","role":"select","val":""},{"N":"supplied","role":"conversion","slot":"0"}]},{"N":"forEach","line":"132","C":[{"N":"varRef","name":"Q{}elements","slot":"0"},{"N":"choose","line":"134","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}staff"}]}]},{"N":"copy","line":"136","flags":"cin","sit":"1","C":[{"N":"sequence","role":"content","C":[{"N":"att","name":"staff","flags":"l","C":[{"N":"convert","from":"ADI","to":"AS","C":[{"N":"ifCall","name":"Q{http:\/\/www.w3.org\/2005\/xpath-functions\/map}get","type":"*","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"gVarRef","name":"Q{}map_staves_order","bSlot":"0"}]},{"N":"check","card":"1","diag":"0|1||map:get","C":[{"N":"cast","flags":"ae","as":"?ADI","C":[{"N":"slash","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot"}]},{"N":"attVal","name":"Q{}staff"}]}]}]}]}]}]},{"N":"applyT","line":"137","bSlot":"1","C":[{"N":"except","role":"select","op":"except","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}staff"}]}]}]},{"N":"choose","line":"138","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|3|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"N"}]}]},{"N":"callT","line":"139","name":"Q{}update_staff_controlEvents","bSlot":"2","C":[{"N":"withParam","name":"Q{}elements","flags":"c","as":"*N","C":[{"N":"slash","line":"140","simple":"1","C":[{"N":"treat","as":"N","diag":"14|3|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"N"}]}]}]}]}]}]},{"N":"true"},{"N":"copy","line":"147","flags":"cin","sit":"1","C":[{"N":"sequence","role":"content","C":[{"N":"applyT","bSlot":"3","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]}]},{"N":"choose","line":"148","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|3|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"N"}]}]},{"N":"callT","line":"149","name":"Q{}update_staff_controlEvents","bSlot":"4","C":[{"N":"withParam","name":"Q{}elements","flags":"c","as":"*N","C":[{"N":"slash","line":"150","simple":"1","C":[{"N":"treat","as":"N","diag":"14|3|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"N"}]}]}]}]}]}]}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"method","value":"xml"},{"N":"property","name":"indent","value":"yes"},{"N":"property","name":"standalone","value":"no"},{"N":"property","name":"encoding","value":"UTF-8"},{"N":"property","name":"use-character-maps","value":" entities"},{"N":"property","name":"Q{http:\/\/saxon.sf.net\/}stylesheet-version","value":"30"}]},{"N":"charMap","name":"Q{}entities","C":[{"N":"m","c":"8194","s":"&#8194;"},{"N":"m","c":"57955","s":"&#xe263;"},{"N":"m","c":"324","s":"&#324;"},{"N":"m","c":"59996","s":"&#xea5c;"},{"N":"m","c":"119051","s":"&#x1D10B;"},{"N":"m","c":"8198","s":"&#8198;"},{"N":"m","c":"171","s":"&"},{"N":"m","c":"8211","s":"&#8211;"},{"N":"m","c":"8195","s":"&#8195;"},{"N":"m","c":"59990","s":"&#xea56;"},{"N":"m","c":"160","s":"&#160;"}]},{"N":"strip","C":[{"N":"s","test":"NE","prec":"1"}]},{"N":"decimalFormat"}],"Σ":"c7f7efd1"}